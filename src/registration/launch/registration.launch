<launch>

    <arg name="cloud_topic" default="/camera/ahat"/>

    <node pkg="registration" type="robot_registration" name="registration_node" output="screen">
        <rosparam command="load" file="$(find registration)/config/registration.yaml"/>
        <param name="pcd_dir" value="$(find registration)/pcd_files/"/>
        <remap from="cloud_in" to="$(arg cloud_topic)"/>
    </node> 

    <node pkg="rviz" type="rviz" name="rviz" args="-d $(find registration)/rviz/registration.rviz" required="true"/>

    <!-- Robot Render -->
    <include file="$(find abb_irb1200_support)/launch/real_robot_render.launch"/>

    <!-- testing tfs -->
    <!-- base link arucos -->
    <node pkg="tf" type="static_transform_publisher" name="static_transform_publisher1" args="0.113 0 0.120 0 0 0 1 base_link aruco1 100" />
    <node pkg="tf" type="static_transform_publisher" name="static_transform_publisher2" args="0 0.113 0.120 0 0 0 1 base_link aruco2 100" />
    <node pkg="tf" type="static_transform_publisher" name="static_transform_publisher3" args="0 -0.113 0.120 0 0 0 1 base_link aruco3 100" />
    <!-- link 1 arucos -->
    <node pkg="tf" type="static_transform_publisher" name="static_transform_publisher4" args="0 0.130 0 0 0 0 1 link_1 aruco4 100" />
    <node pkg="tf" type="static_transform_publisher" name="static_transform_publisher5" args="0 -0.130 0 0 0 0 1 link_1 aruco5 100" />
    <!-- link 2 arucos -->
    <node pkg="tf" type="static_transform_publisher" name="static_transform_publisher6" args="0.021 0 0.130 0 0 0 1 link_2 aruco6 100" />
    <node pkg="tf" type="static_transform_publisher" name="static_transform_publisher7" args="0 -0.118 0.350 0 0 0 1 link_2 aruco7 100" />
    <node pkg="tf" type="static_transform_publisher" name="static_transform_publisher8" args="0 0.118 0.350 0 0 0 1 link_2 aruco8 100" />
    <!-- link 3 arucos -->
    <node pkg="tf" type="static_transform_publisher" name="static_transform_publisher9" args="0 0 0.118 0 0 0 1 link_3 aruco9 100" />
    <node pkg="tf" type="static_transform_publisher" name="static_transform_publisher10" args="0.130 -0.059 0.042 0 0 0 1 link_3 aruco10 100" />
    <node pkg="tf" type="static_transform_publisher" name="static_transform_publisher11" args="0.130 0.059 0.042 0 0 0 1 link_3 aruco11 100" />
    <!-- link 4 arucos -->
    <node pkg="tf" type="static_transform_publisher" name="static_transform_publisher12" args="0.267 -0.057 0 0 0 0 1 link_4 aruco12 100" />
    <node pkg="tf" type="static_transform_publisher" name="static_transform_publisher13" args="0.267 0.057 0 0 0 0 1 link_4 aruco13 100" />

</launch>